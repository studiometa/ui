{#
/**
 * @file
 * Hero component.
 *
 * @param string $surtitle
 * @param string $title
 * @param string $subtitle
 * @param array $ctas[]
 * @param string $cta_url
 * @param string $cta_label
 *
 * @param array                                     $attr
 *   customize the root element attributes.
 * @param array<Figure> $image
 *   Image to display. See Figure.twig for the composition.
 * @param array                                     $image_attr
 *   customize the image element attributes.
 * @param array                                     $content_attr
 *   customize the content classes.
 * @param 'left'|'center'|'right'                   $content_position
 *   define the content position.
 * @param string                                     $surtitle_tag
 *   customize the tag of the surtitle element
 * @param array                                     $surtitle_attr
 *   customize the surtitle element attributes.
 * @param array                                     $title_tag
 *   customize the tag of the title element
 * @param array                                     $title_attr
 *   customize the title element attributes.
 * @param array                                     $description_tag
 *   customize the tag of the description element
 * @param array                                     $description_attr
 *   customize the description element attributes.
 * @param array                                     $ctas_attr
 *   customize the cta element attributes.
 */
#}

{% set attributes =
  merge_html_attributes(attr ?? null, { class: ['hero', 'w-screen', 'h-screen', 'relative'] })
%}

{# Default images attributes #}
{% set image_attributes =
  merge_html_attributes(image_attr ?? null, { class: ['hero__image absolute inset-0'] })
%}

{# Default content attributes #}
{% set content_position = content_position|default('center') %}
{% set content_attributes =
  merge_html_attributes(
    content_attr ?? null,
    { class: 'hero__content relative' },
    {
      class: [
        'flex flex-col justify-center h-full w-full gap-8',
        {
          'items-start': content_position == 'left',
          'items-center': content_position == 'center',
          'items-end': content_position == 'right'
        }
      ]
    }
  )
%}
{% set surtitle_tag = title_tag|default('p') %}
{% set surtitle_attributes =
  merge_html_attributes(surtitle_attr ?? null, { class: ['hero__surtitle type-base'] })
%}

{% set title_tag = title_tag|default('p') %}
{% set title_attributes =
  merge_html_attributes(title_attr ?? null, { class: ['hero__title type-h1'] })
%}

{% set description_tag = description_tag|default('p') %}
{% set description_attributes =
  merge_html_attributes(description_attr ?? null, { class: ['hero__description type-base'] })
%}

{% set ctas_attributes =
  merge_html_attributes(ctas_attr ?? null, { class: ['hero__ctas', 'flex', 'gap-6'] })
%}

<section {{ html_attributes(attributes) }}>
  {% block background %}
    {% if image %}
      <div {{ html_attributes(image_attributes) }}>
        {% include '@ui/atoms/Figure/Figure.twig' with image|merge({ absolute: true }) only %}
      </div>
    {% endif %}
  {% endblock %}
  {% block content %}
    <div {{ html_attributes(content_attributes) }}>
      {% block surtitle %}
        {% if surtitle %}
          {% html_element surtitle_tag with surtitle_attributes %}
            {{ surtitle }}
          {% end_html_element %}
        {% endif %}
      {% endblock %}
      {% block title %}
        {% if title %}
          {% html_element title_tag with title_attributes %}
            {{ title }}
          {% end_html_element %}
        {% endif %}
      {% endblock %}
      {% block description %}
        {% if description %}
          {% html_element description_tag with description_attributes %}
            {{ description }}
          {% end_html_element %}
        {% endif %}
      {% endblock %}
      {% block ctas %}
        {% if ctas %}
          <div {{ html_attributes(ctas_attributes) }}>
            {% for cta in ctas %}
              {% include '@ui/atoms/Button/Button.twig' with cta only %}
            {% endfor %}
          </div>
        {% endif %}
      {% endblock %}
    </div>
  {% endblock %}
</section>
