{% set from = 'opacity-0 transform -translate-x-full pointer-events-none' %}
{% set active = 'transition duration-500 ease-out-expo' %}

<nav data-component="Menu" data-option-mode="click" class="inline-block m-10">
  {% include '@ui/Button/StyledButton.twig' with {
    label: 'Menu',
    attr: {
      data_component: 'MenuBtn'
    }
  } %}
  <div data-component="MenuList"
    data-option-enter-from="{{ from }}"
    data-option-enter-active="{{ active }}"
    data-option-leave-active="{{ active }}"
    data-option-leave-to="{{ from }}"
    class="z-10 fixed top-0 left-0 w-[min-content] h-full {{ from }}">
    <div class="absolute inset-2 bg-white shadow rounded"></div>
    <ul class="relative w-full h-full p-2">
      {% for item in 1..3 %}
        <li data-component="Menu" data-option-mode="click">
          <button data-component="MenuBtn"
            class="block w-full p-4 text-left hover:bg-gray-100 focus:ring-2 ring-inset rounded whitespace-nowrap">
            Subitem #{{ item }}
          </button>
          <div data-component="MenuList"
            data-option-enter-from="{{ from }}"
            data-option-enter-active="{{ active }}"
            data-option-leave-active="{{ active }}"
            data-option-leave-to="{{ from }}"
            class="-z-[1] absolute top-0 left-full w-[min-content] h-full {{ from }}">
            <div class="absolute inset-2 bg-white shadow rounded"></div>
            <ul class="relative w-full h-full p-2">
              {% for subitem in 1..5 %}
                <li data-component="Menu" data-option-mode="click">
                  <button data-component="MenuBtn"
                    class="block w-full p-4 text-left hover:bg-gray-100 focus:ring-2 ring-inset rounded whitespace-nowrap">
                    Subitem #{{ item }}.{{ subitem }}
                  </button>
                  <div data-component="MenuList"
                    data-option-enter-from="{{ from }}"
                    data-option-enter-active="{{ active }}"
                    data-option-leave-active="{{ active }}"
                    data-option-leave-to="{{ from }}"
                    class="-z-[1] absolute top-0 left-full w-[min-content] h-full {{
                    from
                    }}">
                    <div class="absolute inset-2 bg-white shadow rounded"></div>
                    <ul class="relative w-full h-full p-2">
                      {% for subsubitem in 1..4 %}
                        <li>
                          <button class="block w-full p-4 text-left hover:bg-gray-100 focus:ring-2 ring-inset rounded whitespace-nowrap">
                            Subitem #{{ item }}.{{ subitem }}.{{ subsubitem }}
                          </button>
                        </li>
                      {% endfor %}
                    </ul>
                  </div>
                </li>
              {% endfor %}
            </ul>
          </div>
        </li>
      {% endfor %}
    </ul>
  </div>
</nav>
