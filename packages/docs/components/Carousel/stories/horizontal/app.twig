{% set colors = ['red', 'green', 'blue', 'purple'] %}
{% set count = 5 %}

<div data-component="Carousel" class="grid gap-10 p-10" data-option-axis="x">
  <div data-component="CarouselWrapper CarouselDrag"
    class="flex items-center gap-8 w-full overflow-x-auto snap-x snap-mandatory"
    style="scrollbar-width: none;">
    {% for i in 1..count %}
      {% set color = colors[loop.index0 % (colors|length)] %}
      <div data-component="CarouselItem"
        class="
          snap-center shrink-0 flex items-center justify-center
          w-96 h-48 bg-{{
        color
        }}-400 ring-inset ring-{{
        color
        }}-600
          ring
          text-white font-bold rounded-xl
        "
        style="--tw-ring-opacity: var(--carousel-item-active, 0)">
        N°{{ i }}
      </div>
    {% endfor %}
  </div>
  <div data-component="CarouselProgress"
    class="relative w-full h-2 rounded-full bg-gray-200 overflow-hidden">
    <div style="--tw-translate-x: calc((var(--carousel-progress, 0) - 1) * 100%)"
      class="absolute inset-0 -translate-x-full bg-black rounded-full"></div>
  </div>
  <nav class="flex items-center justify-center gap-2">
    {% include '@ui/Button/StyledButton.twig' with {
      label: '← Prev',
      attr: {
        data_component: 'CarouselBtn',
        data_option_action: 'prev'
      }
    } %}
    {% for i in 1..count %}
      {% include '@ui/Button/StyledButton.twig' with {
        label: i,
        theme: 'secondary',
        attr: {
          data_component: 'CarouselBtn',
          data_option_action: loop.index0
        }
      } %}
    {% endfor %}
    {% include '@ui/Button/StyledButton.twig' with {
      label: 'Next →',
      attr: {
        data_component: 'CarouselBtn',
        data_option_action: 'next'
      }
    } %}
  </nav>
</div>
